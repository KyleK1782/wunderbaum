/*!
 * Wunderbaum style sheet (generated from wunderbaum.scss)
 * Copyright (c) 2021, Martin Wendt. Released under the MIT license.
 * @VERSION, @DATE (https://github.com/mar10/wunderbaum)
 */

/*
  * Some nice colors
  */
$clr-black-olive: #2d342c;
$clr-black: #1c1b19;
$clr-bronze: #816540;
$clr-gray: #868581;
$clr-midnight-blue: #1e2e47;
$clr-milk: #fcfcfc;
$clr-patina-green: #29806d;
$clr-petrol: #005c75;
$clr-signal-blue: #1e5494;
$clr-slate: #47423f;
$clr-sunflower: #f7a600;
$clr-translucent-green: #94bd31;
$clr-translucent-red: #b5373b;
$clr-umbra-gray: #56534c;

$font-stack: Helvetica, sans-serif;

$hover-color: #f7f7f7;
$hover-border-color: #dedede;
$focus-border-color: #969da3;
$active-color: #e5f3fb;
$active-cell-color: #26a0da;
$active-border-color: #70c0e7;
$active-hover-color: #cbe8f6;
$active-hover-border-color: #26a0da;
$background-color: $clr-milk;
$active-column-color: $hover-color;
$active-header-column-color: $active-color;

$row-height: 20px;
$header_height: $row-height;

$level-rainbow: rgba(255, 255, 64, 0.07), rgba(127, 255, 127, 0.07),
  rgba(255, 127, 255, 0.07), rgba(79, 236, 236, 0.07);

div.wunderbaum {
  height: 100%; // fill parent container
  box-sizing: border-box;
  margin: 1px;
  padding: 0;
  font-family: $font-stack;
  border: 1px solid gray;
  overflow: hidden; // avoid unwanted effects when auto-resizing

  div.wb-header {
    position: relative;
    height: $header-height;
    border-bottom: 1px solid gainsboro;
    span.wb-col {
      font-weight: bold;
      &:hover {
        background-color: $active-hover-color;
      }
      // &::after {
      //   content: "|";
      // }
    }
  }

  div.wb-scroll-container {
    overflow: auto;
    scroll-behavior: smooth;
    position: relative;
    min-height: 4px;
    // height: calc(100% - #{$header_height});  // didn't work. Using JS instead
    // padding: 0 4px;

    div.wb-row {
      position: absolute;
      width: 100%;
      height: $row-height;
      border: 1px solid transparent;
      // &.wb-active {
      //   font-weight: bold;
      // }
      &.wb-selected {
        font-style: italic;
      }
      &:hover {
        background-color: $hover-color;
        border-color: $hover-border-color;
      }
      &.wb-active,
      &.wb-selected {
        background-color: $active-color;
        border-color: $active-border-color;
        &:hover {
          background-color: $active-hover-color;
          border-color: $active-hover-border-color;
        }
      }
    }
    span.wb-node :first-of-type {
      margin-left: 8px; // leftmost icon gets a little margin
    }

    i.wb-checkbox,
    i.wb-expander,
    i.wb-icon,
    i.wb-indent {
      width: 1.1em;
      display: inline-block;
      height: $row-height;
      margin-right: 3px;
      // font-size: small;
      // vertical-align: middle;
    }
    i.wb-indent {
      // border-left: 1px solid gray;
      &::before {
        content: "\00a0";
      }
    }
  }

  &.wb-cell-mode {
    div.wb-row {
      background-color: $background-color;
      span.wb-col.wb-active {
        background-color: $active-column-color;
      }
      &.wb-active {
        background-color: $active-column-color;
        span.wb-col.wb-active {
          background-color: $active-cell-color;
        }
      }
    }
    div.wb-header {
      span.wb-col.wb-active {
        background-color: $active-hover-color;
      }
    }
  }

  span.wb-title {
    min-width: 1em;
    display: inline-block; // fix vertical offset on Chrome?
    vertical-align: top;
  }

  span.wb-col {
    position: absolute;
    display: inline-block;
    text-overflow: ellipsis;
    // height: $row-height;
    // vertical-align: top;
  }

  @for $i from 1 through length($level-rainbow) {
    i.wb-indent:nth-child(#{length($level-rainbow)}n + #{$i}) {
      background: nth($level-rainbow, $i);
    }
  }
}
